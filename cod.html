<script>
    let likeCount = 0;
    let dislikeCount = 0;
    let userLiked = false;
    let userDisliked = false;

    // Starts the game by removing the overlay and setting the iframe source
    function startGame() {
        document.getElementById('overlay').style.display = 'none';
        const iframe = document.getElementById('game-iframe');
        iframe.src = "https://bitlifeonline.github.io/ragdoll-archers/";
    }

    // Toggles like functionality
    function toggleLike() {
        const likeButton = document.getElementById('like-button');
        const dislikeButton = document.getElementById('dislike-button');

        if (userLiked) {
            likeCount--;
            userLiked = false;
            likeButton.classList.remove('active');
        } else {
            likeCount++;
            userLiked = true;
            likeButton.classList.add('active');
            if (userDisliked) {
                dislikeCount--;
                userDisliked = false;
                dislikeButton.classList.remove('active');
            }
        }

        document.getElementById('like-count').innerText = likeCount;
        document.getElementById('dislike-count').innerText = dislikeCount;
    }

    // Toggles dislike functionality
    function toggleDislike() {
        const likeButton = document.getElementById('like-button');
        const dislikeButton = document.getElementById('dislike-button');

        if (userDisliked) {
            dislikeCount--;
            userDisliked = false;
            dislikeButton.classList.remove('active');
        } else {
            dislikeCount++;
            userDisliked = true;
            dislikeButton.classList.add('active');
            if (userLiked) {
                likeCount--;
                userLiked = false;
                likeButton.classList.remove('active');
            }
        }

        document.getElementById('like-count').innerText = dislikeCount;
    }

    // Toggles fullscreen mode
    function toggleFullscreen() {
        const gameContainer = document.getElementById('game-iframe');
        if (!document.fullscreenElement) {
            gameContainer.requestFullscreen();
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }
    }
</script>
